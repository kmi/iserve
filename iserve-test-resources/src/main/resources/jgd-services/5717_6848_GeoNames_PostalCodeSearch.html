<!--
  ~ Copyright (c) 2013. Knowledge Media Institute - The Open University
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html>


<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>GeoNames Web uk.ac.open.kmi.iserve.commons.model.Service Documentation</title>
<link rel="search" type="application/opensearchdescription+xml" title="geonames"
      href="http://www.geonames.org/opensearch-plugin.xml">
<link href="http://www.geonames.org/geonames.ico" rel="shortcut icon">
<link type="text/css" rel="stylesheet" href="http://www.geonames.org/geonames.css">

<table id="topmenutable">
    <tbody>
    <tr>
        <td class="topmenu">&nbsp;<a href="javascript:callProxy('http://www.geonames.org/')">GeoNames
            Home</a>&nbsp;|&nbsp;<a href="javascript:callProxy('http://www.geonames.org/postal-codes/')">Postal
            Codes</a>&nbsp;|&nbsp;<a href="javascript:callProxy('http://www.geonames.org/export/')">Download
            / Webservice</a>&nbsp;|&nbsp;<a href="javascript:callProxy('http://www.geonames.org/about.html')">About</a>&nbsp;|
        </td>
        <td class="topsearch">
            <form class="topsearch" name="searchForm" method="post" action="/servlet/geonames"
                  onsubmit="javascript:fulltextsearch();return false;">search <input class="topmenu" name="q" size="20"
                                                                                     value="" type="text"> <input
                    name="srv" value="1" type="hidden"></form>
        </td>
    </tr>
    </tbody>
</table>

<div style="margin: auto; width: 600px; text-align: left;">
    <h3>GeoNames Web Services Documentation</h3>

    GeoNames is mainly using REST webservices.<br>

    <br>
    <a name="ws"></a>
    <h4>Webservices</h4>

    <a name="fulltextSearch"></a>
    <h5>GeoNames search</h5>

    Webservice for the GeoNames <a href="javascript:callProxy('http://www.geonames.org/export/geonames-search.html')">
    <b>full text search</b></a> in xml and json format. See the service
    <a href="javascript:callProxy('http://www.geonames.org/export/geonames-search.html')">
        comment</a> for details.<br>
    <br>
    <br>

    <div class="service" id="GeoNames_PostalCodeSearch"
         href="http://iserve.kmi.open.ac.uk/2010/05/s3eval/func.rdfs#EntityLocationService" rel="model">
        <div class="operation" id="operation1" href="http://www.w3.org/ns/wsdl-extensions#SafeInteraction" rel="model">
            <h5><span class="label" id="label1">GeoNames_PostalCodeSearch</span></h5>

            <table>
                <tbody>
                <tr>
                    <td valign="top">Url</td>
                    <td valign="top">»</td>
                    <td><span class="address" id="address1">ws.geonames.org/postalCodeSearch?</span></td>
                </tr>

                <tr>
                    <td valign="top">Result</td>
                    <td valign="top">»</td>
                    <td>
                        <div class="output" id="output1"
                             href="http://iserve.kmi.open.ac.uk/2010/05/s3eval/data.rdfs#PostalCodeArea" rel="model">
                            returns a list of postal codes and places for the
                            placename/postalcode query as xml document
                        </div>
                        <br>
                        For the US the first returned zip code is determined using zip code
                        area shapes, the following zip codes are based on the centroid. For
                        all other supported countries all returned postal codes are based
                        on centroids.
                    </td>
                </tr>
                </tbody>
            </table>

            <table class="restable">
                <tbody>
                <tr>
                    <th>Parameter</th>
                    <th width="19%">Value</th>
                    <th>Description</th>
                </tr>

                <div class="input" id="input1">
                    <tr>
                        <td><b><span href="http://fusion.cs.uni-jena.de/geographydataset.owl#PostalCode" rel="model">postalcode</span></b>
                        </td>
                        <td>string (<i>postalcode</i> or <i>placename</i> required)</td>
                        <td>postal code</td>
                    </tr>

                    <tr>
                        <td><b>postalcode_startsWith</b></td>
                        <td>string</td>
                        <td>the first characters or letters of a postal code</td>
                    </tr>

                    <tr>
                        <td><b><span href="http://iserve.kmi.open.ac.uk/2010/05/s3eval/data.rdfs#RawAddress"
                                     rel="model">placename</span></b></td>
                        <td>string (<i>postalcode</i> or <i>placename</i> required)</td>
                        <td>all fields : placename,postal code, country, admin name (<font color="red">Important:</font><a
                                href="javascript:callProxy('http://forum.geonames.org/gforum/posts/list/8.page')">
                            urlencoded utf8</a>)
                        </td>
                    </tr>

                    <tr>
                        <td><b>placename_startsWith</b></td>
                        <td>string</td>
                        <td>the first characters of a place name</td>
                    </tr>

                    <tr>
                        <td><b><span href="http://proton.semanticweb.org/2005/04/protonu#Country"
                                     rel="model">country</span></b></td>
                        <td>string : country code, ISO-3166 (optional)</td>
                        <td>Default is all countries.</td>
                    </tr>

                    <tr>
                        <td><b>countryBias</b></td>
                        <td>string</td>
                        <td>records from the countryBias are listed first</td>
                    </tr>

                    <tr>
                        <td><b><span href="http://iserve.kmi.open.ac.uk/2010/05/s3eval/data.rdfs#ResultsCountLimit"
                                     rel="model">maxRows</span></b></td>
                        <td>integer (optional)</td>
                        <td>the maximal number of rows in the document returned by the
                            service. Default is 10
                        </td>
                    </tr>

                    <tr>
                        <td><b>style</b></td>
                        <td>string <i>SHORT</i>,<i>MEDIUM</i>,<i>LONG</i>,<i>FULL</i>
                            (optional)
                        </td>
                        <td>verbosity of returned xml document, default = MEDIUM</td>
                    </tr>

                    <tr>
                        <td><b>operator</b></td>
                        <td>string <i>AND</i>,<i>OR</i> (optional)</td>
                        <td>the operator 'AND' searches for all terms in the placename
                            parameter, the operator 'OR' searches for any term, default =
                            AND
                        </td>
                    </tr>

                    <tr>
                        <td><b>charset</b></td>
                        <td>string (optional)</td>
                        <td>default is 'UTF8', defines the encoding used for the document
                            returned by the web service.
                        </td>
                    </tr>

                    <tr>
                        <td><b>isReduced</b></td>
                        <td>true or false (optional)</td>
                        <td>default is 'false', when set to 'true' only the UK outer codes
                            are returned. <font color="red">Attention: the default value on the
                                commercial servers is currently set to 'true'. It will be changed
                                later to 'false'.</font></td>
                    </tr>
                </div>
                </tbody>
            </table>

            <p>Example <a
                    href="javascript:callProxy('http://ws.geonames.org/postalCodeSearch?postalcode=9011&amp;maxRows=10')"
                    target="_blank">http://ws.geonames.org/postalCodeSearch?postalcode=9011&amp;maxRows=10</a></p>

            <p>This service is also available in JSON format : <a
                    href="javascript:callProxy('http://ws.geonames.org/postalCodeSearchJSON?postalcode=9011&amp;maxRows=10')"
                    target="_blank">http://ws.geonames.org/postalCodeSearchJSON?postalcode=9011&amp;maxRows=10</a></p>

            <p>
                <small>[<a href="javascript:callProxy('http://www.geonames.org//export/free-geocoding.html')">
                    more on free-geocoding ...</a>]
                </small>
                <br>
                <br>
                <br>
            </p>
        </div>
    </div>

    <div id="pageFooter">info@geonames.org

        <p><a href="javascript:callProxy('http://www.geonames.org/')">GeoNames
            Home</a> <span class="separator">•</span> <a
                href="javascript:callProxy('http://www.geonames.org/postal-codes/')">Postal
            Codes</a> <span class="separator">•</span> <a
                href="javascript:callProxy('http://www.geonames.org/export/')">Download
            / Webservice</a> <span class="separator">•</span> <a
                href="javascript:callProxy('http://forum.geonames.org')">Forum</a> <span class="separator">•</span> <a
                href="javascript:callProxy('http://geonames.wordpress.com')">Blog</a>
            <span class="separator">•</span> <a href="javascript:callProxy('http://www.geonames.org/sitemap.html')">Sitemap</a>
        </p>
    </div>
</html>